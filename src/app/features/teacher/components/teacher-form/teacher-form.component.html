<div class="p-4 mat-dialog-container">
  <div class="flex flex-column">
    <h5 class="m-0">Formulario docente</h5>
    <p>Complete todos los campos</p>
  </div>
  <form [formGroup]="formTeacher" class="example-form">

    <table class="w-full" cellspacing="1"><tr>
      <td>
        <mat-form-field class="w-full" appearance="outline">
          <mat-label>Tipo de documento</mat-label>
          <mat-select formControlName="type_id_card">
            @for (item of listTypeDocuments; track $index) {
              <mat-option value="dni">{{item.label}}</mat-option>
            }
          </mat-select>
          @if (type_id_card.hasError('pattern') && !type_id_card.hasError('required')) {
            <mat-error class="p-error">Digite un DNI <strong>válido</strong></mat-error>
          }
          @if (type_id_card.hasError('required') && type_id_card.touched) {
            <mat-error class="p-error">El campo <strong>requerido</strong></mat-error>
          }
        </mat-form-field>
      </td>
      <td></td>
      <td>
        <mat-form-field class="w-full" appearance="outline">
          <mat-label>DNI</mat-label>
          <input matInput formControlName="id_card" maxlength="8" minlength="8">
          @if (id_card.hasError('pattern') && !id_card.hasError('required')) {
            <mat-error class="p-error">Digite un documento <strong>válido</strong></mat-error>
          }
          @if (id_card.hasError('required') && id_card.touched) {
            <mat-error class="p-error">El campo <strong>requerido</strong></mat-error>
          }
          @if (id_card.hasError('minlength')) {
            <mat-error class="p-error">El debe tener mínimo 8 <strong>caracteres</strong></mat-error>
          }
          @if (id_card.hasError('maxlength')) {
            <mat-error class="p-error">El debe tener máximo 8 <strong>caracteres</strong></mat-error>
          }
        </mat-form-field>
      </td>
    </tr></table>

    <mat-form-field class="w-full mt-1" appearance="outline">
      <mat-label>Nombres</mat-label>
      <input type="text" matInput formControlName="name" [errorStateMatcher]="matcher">
      @if (name.hasError('pattern') && !email.hasError('required')) {
        <mat-error>Digite un nombre válido</mat-error>
      }
      @if (name.hasError('required')) {
        <mat-error>Este campo es <strong>requerido</strong></mat-error>
      }
      @if (name.hasError('pattern') && !name.hasError('required')) {
        <mat-error class="p-error">Digite un nombre <strong>válido</strong></mat-error>
      }
    </mat-form-field>

    <table class="w-full mt-1" cellspacing="1">
      <tr>
        <td>
          <mat-form-field class="w-full mt-1" appearance="outline">
            <mat-label>Apellido paterno</mat-label>
            <input matInput formControlName="first_name">
            @if (first_name.hasError('pattern') && !first_name.hasError('required')) {
              <mat-error>Digite un apellido válido</mat-error>
            }
            @if (name.hasError('required')) {
              <mat-error>Este campo es <strong>requerido</strong></mat-error>
            }
          </mat-form-field>
        </td>
        <td></td>
        <td>
          <mat-form-field class="w-full mt-1" appearance="outline">
          <mat-label>Apellido materno</mat-label>
          <input matInput formControlName="last_name">
          @if (last_name.hasError('pattern') && !last_name.hasError('required')) {
            <mat-error>Digite un apellido válido</mat-error>
          }
          @if (last_name.hasError('required')) {
            <mat-error>Este campo es <strong>requerido</strong></mat-error>
          }
        </mat-form-field>
        </td>
      </tr>
    </table>

    <mat-form-field class="w-full mt-1" appearance="outline">
      <mat-label>Email</mat-label>
      <input type="email" matInput formControlName="email" [errorStateMatcher]="matcher">
      @if (email.hasError('email') && !email.hasError('required')) {
        <mat-error>Digite un email válido</mat-error>
      }
      @if (email.hasError('required')) {
        <mat-error>Este campo es <strong>requerido</strong></mat-error>
      }
    </mat-form-field>

    <mat-form-field class="w-full mt-1" appearance="outline">
      <mat-label>Número de celular</mat-label>
      <input type="text" matInput formControlName="celphone_number" [errorStateMatcher]="matcher">
      @if (celphone_number.hasError('pattern') && !celphone_number.hasError('required')) {
        <mat-error>Digite un número de celular válido</mat-error>
      }
      @if (celphone_number.hasError('required')) {
        <mat-error>Este campo es <strong>requerido</strong></mat-error>
      }
      @if (celphone_number.hasError('maxlength')) {
        <mat-error>El número de celular debe tener máximo 9 <strong>dígitos</strong></mat-error>
      }
      @if (celphone_number.hasError('minlength')) {
        <mat-error>El número de celular debe tener mínimo 9 <strong>dígitos</strong></mat-error>
      }
    </mat-form-field>
    <div align="end">
      <button mat-button type="button" class="mr-1" (click)="closeDialog()">Cancelar</button>
      <button mat-flat-button type="button" (click)="registerTeacher()">Registrar</button>
    </div>
  </form>
</div>
